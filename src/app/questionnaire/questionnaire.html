<div class="questionnaire">
  <div class="categories container-fluid">
      <div class="list-group col-sm-4 col-xs-12" *ngFor="let group of groups">
          <h2>{{group}}</h2>
          <div *ngIf="showCategories">
            <div class="list-group-item"
                *ngFor="let category of category_group(group)"
                [class.list-group-item-info]="category.name === selectedCategory.name"
                (click)="onSelect(category)">
              <div class="progress-bar" [style.width]="percent(category)"></div>
              <label class="category-name">{{category.name}}</label>
            </div>
          </div>
      </div>
  </div>
  <my-category *ngIf="showCategory" (changed)="updatePercent()" [category]="selectedCategory"></my-category>
  <div *ngIf="showCategory"  class='next'>
    <label class="btn btn-primary col-sm-2"
        (click)="nextCategory()">
        {{ isDone ? 'Done' : 'Next' }} 
    </label>
  </div>
  <div *ngIf="!showCategory"> 
    <table class="center">
      <tr>
        <td valign="middle"><h3>Thank you!</h3> </td>
      </tr>
    </table>
    <p>{{surveyEndText}}</p>
    <div class="form-group new-buttons">
      <a (click)="toTiptoe()" routerLink="/tiptoe"><button class="btn btn-primary">Finish</button></a>
    </div>


  </div>
</div>
